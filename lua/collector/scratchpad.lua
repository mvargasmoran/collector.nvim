
function ifillInOracleText(oracle_text)
  local fitting_length = 54
  local bookend = "│ │"
  print(oracle_text)

  local fitted_lines = {}
  local fitted_text = {}
  local fitted = bookend
  local lines = split(oracle_text, "\n")

  for index, line in pairs(lines) do
    local words = split(line, " ")
    local accumulated_length = 0

    for key, word in pairs(words) do
      local current_row = 1
      accumulated_length = accumulated_length + string.len(word) + 1

      if(accumulated_length < fitting_length) then
        fitted = fitted..word
      else
        table.insert(fitted_lines, current_row, fitted..bookend)
        fitted = bookend..word
        current_row = current_row + 1
        accumulated_length = 0 + string.len(word) + 1
      end
    end
    table.insert(fitted_text, index, fitted_lines)
  end
  return fitted_text
end



function frame(card_data)
  -- print("┼ ├ ")
  local card = [[
┌───────────────────────────────────────┐
│ Naiad of Hidden Coves         |{2}{U} │
│ ┌───────────────────────────────────┐ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ └───────────────────────────────────┘ │
│ Enchantment Creature — Nymph    │THB  │
│ ┌───────────────────────────────────┐ │
│ │During turns other than yours,     │ │
│ │spells you cast cost {1} less      │ │
│ │to cast.                           │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ │                                   │ │
│ └───────────────────────────────────┘ │
│ Theros Beyond Death             [2/3] │
└───────────────────────────────────────┘
]]
  print(card)
end





  -- print("┼ ├ ")

-- █▓▓▓▓▓▓▒▒▒▒▒░░░░░░░░░░▒▒▒░░░░░▒▒▒░░░░░░
-- ███▓▓▓▓▒░░░░▒░░░░░░░▒▒▒▒▓▓▒▒▒░░▒▒▒▒▒░░░
-- █████▓▓▒░░░░░░░▒░░░▒▓▓▓▓▓▓▓▓▒░░░░░░░░░░
-- ██▓██▓▓▒░░░░░░░░░▒▒▒▓▒▒▒▓▓▓░░░░░░░░░░░░
-- ██████▓▒░░░░░░░░▒▒▒▒▒▒▓▓▓▓▒░░░░░░░░░░░░
-- ████████▓░░░░░░▒▒░░░▒▓███▓▓▓▒░░░░░░░░░░
-- ███████▓▓▒░░░▒▒░░░░▒▓▓▓██▓▒▒░░░░░░░░░░░
-- ▓▓▓████▓▓▒░░░░░░░░▒▓▒░▒▓▓▓▓▒▒░░░░░░░░░▒
-- ███▓▓▓▓▓▓█▒░░░░░░░▒▓▒░░▓▓▓▓▓▒▒▒▒▒▒░░░░░
-- ████████▓▓▓▒▒▒▒▒▒░░▒░░▒▒▒▓▓▒▓▒▒▒░░░░░░░
-- ▓█▓█████████▓▓▓▒▒▒░░░░▒▓▓▓▓▒░░▒▒▒░░░░░▓
-- ▓▓▓▓▓▓█▓▓▓▓▒▓▓▓▓▓▓▒▒░▒▒▓█▓▓▒░░░░░░░░░▒█
-- ▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓░░░░░░▒▒▒▒▓█
-- ▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▓▓▓█▓▓▒▒░░░░░░░░▒██
-- ▓▒▒▒▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▓▓███




-- ▒▒▒▒▒▒▓▒▒▒▓▒░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▒▓▓▓▓▓▓▓▓▓▓
-- ▒▒▒▒▒▒▒▒▒▓▒▓▓▒▒▒▒▒░░░░▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▓▓▓
-- ▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░▒▒▒▓▓▓▓▒▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▓▓▓
-- ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒░░░░░░░▒▒▓▓▓▓▒░▒▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▓▓▓▓
-- ▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▒░░░░░░░▒▓▓▓▓▓▓▓▓▓▒░▒▒▒▒▒▒▒░▒▒▒▒▒▒▓▓▓▓
-- ▒▒▒▒▒▒▓▓▓▓▓▓▓▒▓▒▓░░░░░░▒▓▓▓▒▒▒▒▓▓▓▓▓▓▓▒▓▒▒░░░▒▒▒▒▒▒▒▒▒
-- ▒▒▒▒▒▒▓▓▓▓▒▓▒▓▒▒▓▓░░░░░▒▓▓▓▒▒▒▓▓▓▓▓▓▒▒▒▒▒░░░▒▒▒▒▓▓▒▒▒▒
-- ▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▒░▒▒▒▒▓▓▓▓▓▒▓▒▒▓▓▓▒▒▒▒░░▒▒▒▒▓▒▒▓▒▒▒▓
-- ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓░░▒▒▒▒▓▓▓▓▓▓▓▒▒▓▒▒▒░░░░▒▒▒▒▒▒▒▒▒▒▒▒
-- ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒░░░░▒▒▒▒▒▒▒▒▒▒▒▓
-- ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒░▒░░░░░▒▒▒▒▒▒▒▒▓▓▓
-- ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▒▓▒▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒░░░░▒▒▒▒▒▒▒▒▒▓▓▓
-- ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▒▒▓▒▒▒▒▒▒▒▒░░░░░▒▒▒▒▒▓▓▓▓▓
-- ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▓▓▓▒▒▒░░░░░░▒▒▒▒▒▒▒▒▒▒▓▓
-- ▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒░▒▒▒▓▓▓▓▓▓▒▒▒▒▒▒░░░▒▒▒▒▒▒▒▒▒▓▓
-- ▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒░░▒▒▒▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓
-- ▒▒▒▒▒▒▒▓███▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒░░▒░░░░▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓
-- ▒▒▒▒▒▒▓█████▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▒░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▓
-- ▒▒▒▒▒█████████▓▓▓▓▓▒▒▒▒▒▒░▒▒▒▒░░░▒▒▒▒▒▒▒▓▒▒▒▒▒▒▒▒▓▓▓▓▓
-- ▒▒▒▒▓██████████▓▓▓▓▓▒▒▒▒▒░░▒░░░░░░░░▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓
-- ▒▒▒▒██████████████▓▓▓▓▓▒▒░░░░░░░░░▒▒▓▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓
--



-- │ ┌───────────────────────────────────────┐ │
-- │ │@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@   @@@@@@@@   @@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@   @@@@@@@@   @@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@│ │
-- │ │@@@@@@@@@  @@@@@@@@@@@@@@  @@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@   @@@@@@@@   @@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│ │
-- │ │@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│ │
-- │ └───────────────────────────────────────┘ │
--
--
--

-- vim.api.nvim_open_win(mtgBuff, true, {})
-- print("+--------------------------+")
-- print("|"..getName(card_data).."    | "..getCost(card_data).."|")
-- print("+--------------------------+")
-- print("|"..getLargeImageURL(card_data))
-- print("|"..getArtworkImageURL(card_data))
-- print("+--------------------------+")
-- print("|"..getTypeLine(card_data).."|"..getSetName(card_data))
-- print("+--------------------------+")
-- print("|"..getOracleText(card_data).."|")
-- print("+--------------------------+")

-- frame(card_data)
--
-- printCard(card_data)
--
-- fillLine("Theros Beyond Death", "[2/3]")
-- fillLine("Naiad of the Hidden Coves", getCost(card_data), 41)



-- █████████                      ███                    
-- ██████████                   ███████                  
-- ██████████                  ███████████               
-- ██████████                 ████████████               
-- ██████████              █ █████ ██████                
-- ██████████            ██████  ██████                  
-- ███████████            ███  ██████████                
-- ████████████          ██    ███████████               
-- ████████████      ██       ████████████               
-- █████████████             ███  ████████               
-- ██████████████            ██    ███████               
-- ██████████████            ██    ████████              
-- ███████████████           ██    █████████             
-- ██████████████████   █          █████████████         
-- █████████████████████         ████████   █████       █
-- ██████████████████████████    ████████               █
-- ███████████████ ████     ██ █ ████████              ██
-- █████████████████ █  ████ █  █  █████           ██ ███
-- ████████████████████████████████████               ███
-- ███████████████████████████████████████  ██      █████
-- █████████████████████████████████████ ████  ██████████


--
-- │ │%%*+*#***+=-=-=--------::---::-=++-:::-----=----------│ │
-- │ │@@%#+*###+----=------::::-:--==++++=------------------│ │
-- │ │%@@%#####*---::-------------=++=++***++=--------------│ │
-- │ │%%%%%%%***-:-:::::--=------=*****#####+---------------│ │
-- │ │@%##%%%#++=---:-::::---==-+#+*+-=*#%##-:::::----------│ │
-- │ │%%%%##%%#+-----:::::::===+===-=++++=--:::-------------│ │
-- │ │%%@@@@@@%#*=-----::::--===--=+***##*+=--::-:::::::::--│ │
-- │ │@@@@%%%#%%%*=---:::---==----+#%%#%#***+---------------│ │
-- │ │%%@%%%%%%#%%=-----===---::-*#%%%%%%#+=*-::----:::::::-│ │
-- │ │%#%@%%%%###*+---===---:--:=*#==%%%##+=+-----:-:::::---│ │
-- │ │####%@@%%###*+-:::-------=##=--+%####=+--::--:--::---=│ │
-- │ │%%%#*+**%%%%%#=---:::::::-*#-::-######+=----===-----==│ │
-- │ │@%%%%%%#***+**+=--:::::--=+#=--=####*+#+=::--:::------│ │
-- │ │%@@@@@@@%%%%*+*++++=+++==---::--==+##*=++====---------│ │
-- │ │##%%%@@@@@%%%%#%#**++==------:==+*###+-:-++=+=-------*│ │
-- │ │#*+***##%%###%%*%%##%###*+=---+=*%###*:::::::::::---=%│ │
-- │ │****++#%%%%##*+-*#*+=====+===-=*##%##+-:::::::::::::#%│ │
-- │ │*#%%##**##++=========+++=-=--===+*#%#-::--===--=++=+%%│ │
-- │ │###%%###**###*++****+======+*####%##-------:--===-=#%%│ │
-- │ │#*****####%####*+===+++++***###%#*##*+=--==--::--+%@@@│ │
-- │ │*++=+*+++*++*++=+++==+++++*++++*=**+=-+++=--+***#%%@@%│ │
